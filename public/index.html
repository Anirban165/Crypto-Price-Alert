<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crypto Price Alert</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@500&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
  </head>
  <body id="body">
    <div id="preloader"></div>

    <nav
      class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"
      id="navbar"
    >
      <a class="navbar-brand" href="/#">Home</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarCollapse"
        aria-controls="navbarCollapse"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="/alerts.html">Alerts</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container row" id="container">
      <div class="coin-price  col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/1.png"
            />
          </div>
          <div class="center">
            <h1>Bitcoin</h1>
            <h1><span id="btc">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('BTC');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png"
            />
          </div>
          <div class="center">
            <h1>Ethereum</h1>
            <h1><span id="eth">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('ETH');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div>
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/1839.png"
            />
          </div>
          <div class="center">
            <h1>BNB</h1>
            <h1><span id="bnb">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('BNB');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/74.png"
            />
          </div>
          <div class="center">
            <h1>Dogecoin</h1>
            <h1><span id="doge">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('DOGE');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"
            />
          </div>
          <div class="center">
            <h1>Matic</h1>
            <h1><span id="matic">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('MATIC');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/5994.png"
            />
          </div>
          <div class="center">
            <h1>Shiba Inu</h1>
            <h1><span id="shib">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('SHIB');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/5426.png"
            />
          </div>
          <div class="center">
            <h1>Solana</h1>
            <h1><span id="sol">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('SOL');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/2010.png"
            />
          </div>
          <div class="center">
            <h1>Cardano</h1>
            <h1><span id="ada">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('ADA');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/52.png"
            />
          </div>
          <div class="center">
            <h1>XRP</h1>
            <h1><span id="xrp">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('XRP');"
          >
            Set Alert
          </button>
      </div>

      <div class="coin-price col-lg-2 col-md-4 col-sm-6">
          <div >
            <img
              src="https://s2.coinmarketcap.com/static/img/coins/64x64/6636.png"
            />
          </div>
          <div class="center">
            <h1>Polkadot</h1>
            <h1><span id="dot">Loading...</span></h1>
          </div>
          <button
            type="button"
            class="btn btn-primary alart"
            data-toggle="modal"
            data-target="#exampleModal"
            onclick="changeSelected('DOT');"
          >
            Set Alert
          </button>
      </div>
    </div>

    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Set Alert</h5>
          </div>
          <div class="modal-body">
            <form id="form">
              <select
                class="form-select form-group"
                aria-label="Default select example"
                id="coinSelect"
                onchange="updateLabelPrice()"
                style="margin-top: 0px"
              >
                <option selected="selected" value="BTCUSDT">BTCUSDT</option>
                <option value="ETHUSDT">ETHUSDT</option>
                <option value="BNBUSDT">BNBUSDT</option>
                <option value="DOGEUSDT">DOGEUSDT</option>
                <option value="MATICUSDT">MATICUSDT</option>
                <option value="SHIBUSDT">SHIBUSDT</option>
                <option value="SOLUSDT">SOLUSDT</option>
                <option value="ADAUSDT">ADAUSDT</option>
                <option value="XRPUSDT">XRPUSDT</option>
                <option value="DOTUSDT">DOTUSDT</option>
              </select>

              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  id="InputPrice"
                  aria-describedby="Help"
                  placeholder="Alert Price"
                  autocomplete="off"
                />
              </div>

              <small id="priceHelp" class="form-text text-muted"></small>

              <select
                id="type"
                class="form-group form-select"
                aria-label="Default select example"
                style="margin-top: 0px"
              >
                <option selected value="above">Above</option>
                <option value="below">Below</option>
              </select>

              <div class="form-group">
                <input
                  type="mobile"
                  class="form-control"
                  id="mobile_no"
                  aria-describedby="Help"
                  placeholder="Mobile No"
                  style="margin-bottom: 1rem"
                />
              </div>

              <div class="form-check mg4 form-switch">
                <input class="form-check-input" type="checkbox" id="voice" />
                <label class="form-check-label" for="flexSwitchCheckDefault">
                  Voice Call
                </label>
              </div>

              <div class="form-check mg4 form-switch">
                <input class="form-check-input" type="checkbox" id="sms" />
                <label class="form-check-label" for="flexSwitchCheckDefault">
                  SMS (NonDND)
                </label>
              </div>

              <div
                class="form-check mg4 form-switch"
                style="margin-bottom: 10px"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  checked
                  id="whatsapp"
                />
                <label class="form-check-label" for="flexSwitchCheckChecked">
                  WhatsApp
                </label>
              </div>

              <div
                id="alert-success"
                class="alert alert-success"
                role="alert"
                style="display: none; margin-top: 1rem"
              ></div>
              <div
                id="alert-danger"
                class="alert alert-danger"
                role="alert"
                style="display: none; margin-top: 1rem"
              ></div>

              <div class="modal-footer" style="padding-right: 0px">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Close
                </button>
                <button type="submit" class="btn btn-primary" id="save">
                  Save
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script>
      (async () => await updatePrice())();

      window.addEventListener("load", function () {
        setTimeout(async () => {
          $("#body").css("display", "flex");
          $("#preloader").css("display", "none");
          $("#navbar").css("display", "flex");
          $("#container").css("display", "flex");
          updateLabelPrice();
        }, "2400");
      });

      $("#form").submit((event) => {
        event.preventDefault();
        saveAlert().then((res) => {
          if (res.success === true) {
            $("#alert-success")
              .html(res.message)
              .fadeTo(2000, 500)
              .slideUp(500, function () {
                $("#alert-success").slideUp(500);
              });
          } else {
            $("#alert-danger")
              .html(res.message)
              .fadeTo(2000, 500)
              .slideUp(500, function () {
                $("#alert-danger").slideUp(500);
              });
          }
        });
      });

      setInterval(async () => await updatePrice(), 5000);
    </script>
  </body>
</html>
